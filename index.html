<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Squig Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-gray-100 min-h-screen font-sans">
    <div class="max-w-4xl mx-auto px-4 py-12">
        <header class="mb-12">
            <h1 class="text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-600 mb-2">
                Squig Tracker Pro
            </h1>
            <p class="text-gray-400">Monitoring 25+ databases for new IEM measurements.</p>
        </header>

        <div class="relative mb-8">
            <input type="text" id="searchInput" onkeyup="filterItems()" placeholder="Search IEMs or Reviewers..."
                   class="w-full bg-gray-900 border border-gray-700 rounded-xl px-6 py-4 text-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 transition">
        </div>

        <div id="feed" class="grid grid-cols-1 md:grid-cols-2 gap-4">
            </div>
    </div>

    <script>
        let allData = [];

        async function loadFeed() {
            const response = await fetch('history.json');
            allData = await response.json();
            renderItems(allData);
        }

        function renderItems(data) {
            const feed = document.getElementById('feed');
            feed.innerHTML = data.map(item => `
                <a href="${item.link}" target="_blank" class="item-card bg-gray-900 p-5 rounded-2xl border border-gray-800 hover:border-cyan-500 hover:scale-[1.02] transition-all group">
                    <div class="flex justify-between items-start mb-2">
                        <span class="bg-cyan-900/30 text-cyan-400 text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wider">
                            ${item.reviewer}
                        </span>
                        <span class="text-gray-500 text-xs">${item.date}</span>
                    </div>
                    <h3 class="text-xl font-bold group-hover:text-cyan-400 transition">${item.item}</h3>
                    <p class="text-gray-500 text-sm mt-2">View Graph &rarr;</p>
                </a>
            `).join('');
        }

        function filterItems() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const filtered = allData.filter(i =>
                i.item.toLowerCase().includes(query) ||
                i.reviewer.toLowerCase().includes(query)
            );
            renderItems(filtered);
        }

        loadFeed();
    </script>
</body>
</html>